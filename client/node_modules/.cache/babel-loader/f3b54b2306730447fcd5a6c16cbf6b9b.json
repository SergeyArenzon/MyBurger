{"ast":null,"code":"import _slicedToArray from \"/home/sergey/Dev/MyBurger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\";\nexport default (function (httpClient) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var reqInterceptor = httpClient.interceptors.request.use(function (req) {\n    setError(null);\n    return req;\n  });\n  var resInterceptor = httpClient.interceptors.response.use(function (res) {\n    return res;\n  }, function (err) {\n    setError(err);\n  });\n  useEffect(function () {\n    return function () {\n      httpClient.interceptors.request.eject(reqInterceptor);\n      httpClient.interceptors.response.eject(resInterceptor);\n    };\n  }, [reqInterceptor, resInterceptor]);\n\n  var errorConfirmHandler = function errorConfirmHandler() {\n    setError(null);\n  };\n\n  return [error, errorConfirmHandler];\n});","map":{"version":3,"sources":["/home/sergey/Dev/MyBurger/client/src/hooks/http-error-handler.js"],"names":["useState","useEffect","httpClient","error","setError","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","err","eject","errorConfirmHandler"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,gBAAe,UAACC,UAAD,EAAgB;AAAA,kBACHF,QAAQ,CAAC,IAAD,CADL;AAAA;AAAA,MACtBG,KADsB;AAAA,MACfC,QADe;;AAG7B,MAAMC,cAAc,GAAGH,UAAU,CAACI,YAAX,CAAwBC,OAAxB,CAAgCC,GAAhC,CAAoC,UAACC,GAAD,EAAS;AAClEL,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,WAAOK,GAAP;AACD,GAHsB,CAAvB;AAKA,MAAMC,cAAc,GAAGR,UAAU,CAACI,YAAX,CAAwBK,QAAxB,CAAiCH,GAAjC,CACrB,UAACI,GAAD;AAAA,WAASA,GAAT;AAAA,GADqB,EAErB,UAACC,GAAD,EAAS;AACPT,IAAAA,QAAQ,CAACS,GAAD,CAAR;AACD,GAJoB,CAAvB;AAOAZ,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACXC,MAAAA,UAAU,CAACI,YAAX,CAAwBC,OAAxB,CAAgCO,KAAhC,CAAsCT,cAAtC;AACAH,MAAAA,UAAU,CAACI,YAAX,CAAwBK,QAAxB,CAAiCG,KAAjC,CAAuCJ,cAAvC;AACD,KAHD;AAID,GALQ,EAKN,CAACL,cAAD,EAAiBK,cAAjB,CALM,CAAT;;AAOA,MAAMK,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAChCX,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,GAFD;;AAIA,SAAO,CAACD,KAAD,EAAQY,mBAAR,CAAP;AACD,CA3BD","sourcesContent":["import { useState, useEffect } from \"react\";\n\nexport default (httpClient) => {\n  const [error, setError] = useState(null);\n\n  const reqInterceptor = httpClient.interceptors.request.use((req) => {\n    setError(null);\n    return req;\n  });\n\n  const resInterceptor = httpClient.interceptors.response.use(\n    (res) => res,\n    (err) => {\n      setError(err);\n    }\n  );\n\n  useEffect(() => {\n    return () => {\n      httpClient.interceptors.request.eject(reqInterceptor);\n      httpClient.interceptors.response.eject(resInterceptor);\n    };\n  }, [reqInterceptor, resInterceptor]);\n\n  const errorConfirmHandler = () => {\n    setError(null);\n  };\n\n  return [error, errorConfirmHandler];\n};\n"]},"metadata":{},"sourceType":"module"}