{"ast":null,"code":"import _objectSpread from \"/home/sergey/Dev/MyBurger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/sergey/Dev/MyBurger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/sergey/Dev/MyBurger/client/src/containers/BurgerBuilder/BurgerBuilder.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Aux from \"../../hoc/Aux/Aux\";\nimport Burger from \"../../components/Burger/Burger\"; // import BurgerIngredient from '../../components/Burger/BurgerIngredient/BurgerIngredient';\n\nimport BuildControls from \"./../../components/Burger/BuildControls/BuildControls\";\nimport Modal from \"../../components/UI/Modal/Modal\";\nimport OrderSummary from \"../../components/Burger/OrderSummary/OrderSummary\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\n\nvar burgerBuilder = function burgerBuilder(props) {\n  // state = {\n  //   purchasable: false,\n  //   purchasing: false,\n  //   loading: false,\n  // };\n  // const [purchasable, setPurchasable] = useState(false);\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      purchasing = _useState2[0],\n      setPurchasing = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 1),\n      loading = _useState4[0];\n\n  useEffect(function () {\n    // check for redirection to \"/\" init ingredients bug\n    if (!props.ings) {\n      props.onInitIngredients();\n    }\n\n    console.log(\"[BurgerBuilder]render\");\n  }, []);\n\n  var purchaseHandler = function purchaseHandler() {\n    setPurchasing(true);\n  };\n\n  var purchaseCancleHandler = function purchaseCancleHandler() {\n    setPurchasing(false);\n  };\n\n  var purchaseContinueHandler = function purchaseContinueHandler() {\n    // props.onInitPurchase();\n    // props.history.push(\"/checkout\");\n\n    /*#__PURE__*/\n    React.createElement(Link, {\n      to: {\n        pathname: \"/courses\",\n        search: \"?sort=name\",\n        hash: \"#the-hash\",\n        state: {\n          fromDashboard: true\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    });\n  }; // const checkPurchasableHandler = (price) => {\n  //   return price.toFixed(2) > 0;\n  // };\n\n\n  var disabledInfo = _objectSpread({}, props.ings);\n\n  for (var key in disabledInfo) {\n    disabledInfo[key] = disabledInfo[key] <= 0;\n  }\n\n  var orderSummary = null;\n  var burger = props.error ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 32\n    }\n  }, \"Ingredients cant be loaded\") : null;\n\n  if (props.ings !== null) {\n    burger = /*#__PURE__*/React.createElement(Aux, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Burger, {\n      ingredients: props.ings,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(BuildControls, {\n      ingredientAdded: props.onIngredientAdded,\n      ingredientRemoved: props.onIngredientRemoved,\n      disabled: disabledInfo,\n      price: props.price,\n      purchasable: props.price.toFixed(2) > 0 ? true : false,\n      ordered: purchaseContinueHandler,\n      loading: loading // orderNowClick = {purchaseContinueHandler}\n      ,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }));\n    orderSummary = /*#__PURE__*/React.createElement(OrderSummary, {\n      ingredients: props.ings,\n      purchaseCanceled: purchaseCancleHandler,\n      purchaseContinued: purchaseContinueHandler,\n      price: props.price.toFixed(2),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Aux, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, burger);\n};\n\nvar mapToStateProps = function mapToStateProps(state) {\n  return {\n    ings: state.burgerBuilder.ingredients,\n    price: state.burgerBuilder.totalPrice,\n    error: state.burgerBuilder.error\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onIngredientAdded: function onIngredientAdded(ingName) {\n      return dispatch(actions.addIngredient(ingName));\n    },\n    onIngredientRemoved: function onIngredientRemoved(ingName) {\n      return dispatch(actions.removeIngredient(ingName));\n    },\n    onInitIngredients: function onInitIngredients() {\n      return dispatch(actions.initIngredients());\n    },\n    onInitPurchase: function onInitPurchase() {\n      return dispatch(actions.purchaseInit());\n    }\n  };\n};\n\nexport default connect(mapToStateProps, mapDispatchToProps)(burgerBuilder);","map":{"version":3,"sources":["/home/sergey/Dev/MyBurger/client/src/containers/BurgerBuilder/BurgerBuilder.js"],"names":["React","useState","useEffect","Aux","Burger","BuildControls","Modal","OrderSummary","connect","actions","burgerBuilder","props","purchasing","setPurchasing","loading","ings","onInitIngredients","console","log","purchaseHandler","purchaseCancleHandler","purchaseContinueHandler","pathname","search","hash","state","fromDashboard","disabledInfo","key","orderSummary","burger","error","onIngredientAdded","onIngredientRemoved","price","toFixed","mapToStateProps","ingredients","totalPrice","mapDispatchToProps","dispatch","ingName","addIngredient","removeIngredient","initIngredients","onInitPurchase","purchaseInit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Aux from \"../../hoc/Aux/Aux\";\nimport Burger from \"../../components/Burger/Burger\";\n// import BurgerIngredient from '../../components/Burger/BurgerIngredient/BurgerIngredient';\nimport BuildControls from \"./../../components/Burger/BuildControls/BuildControls\";\nimport Modal from \"../../components/UI/Modal/Modal\";\nimport OrderSummary from \"../../components/Burger/OrderSummary/OrderSummary\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\n\nconst burgerBuilder = (props) => {\n    // state = {\n    //   purchasable: false,\n    //   purchasing: false,\n    //   loading: false,\n    // };\n\n    // const [purchasable, setPurchasable] = useState(false);\n    const [purchasing, setPurchasing] = useState(false);\n    const [loading] = useState(false);\n\n    useEffect(() => {\n        // check for redirection to \"/\" init ingredients bug\n        if (!props.ings) {\n            props.onInitIngredients();\n        }\n\n        console.log(\"[BurgerBuilder]render\");\n    }, []);\n\n    const purchaseHandler = () => {\n        setPurchasing(true);\n    };\n\n    const purchaseCancleHandler = () => {\n        setPurchasing(false);\n    };\n    const purchaseContinueHandler = () => {\n        // props.onInitPurchase();\n        // props.history.push(\"/checkout\");\n        <Link\n            to={{\n                pathname: \"/courses\",\n                search: \"?sort=name\",\n                hash: \"#the-hash\",\n                state: { fromDashboard: true },\n            }}\n        />;\n    };\n\n    // const checkPurchasableHandler = (price) => {\n    //   return price.toFixed(2) > 0;\n    // };\n\n    const disabledInfo = {\n        ...props.ings,\n    };\n\n    for (let key in disabledInfo) {\n        disabledInfo[key] = disabledInfo[key] <= 0;\n    }\n\n    let orderSummary = null;\n    let burger = props.error ? <p>Ingredients cant be loaded</p> : null;\n\n    if (props.ings !== null) {\n        burger = (\n            <Aux>\n                <Burger ingredients={props.ings} />\n                <BuildControls\n                    ingredientAdded={props.onIngredientAdded}\n                    ingredientRemoved={props.onIngredientRemoved}\n                    disabled={disabledInfo}\n                    price={props.price}\n                    purchasable={props.price.toFixed(2) > 0 ? true : false}\n                    ordered={purchaseContinueHandler}\n                    loading={loading}\n                    // orderNowClick = {purchaseContinueHandler}\n                ></BuildControls>\n            </Aux>\n        );\n        orderSummary = (\n            <OrderSummary\n                ingredients={props.ings}\n                purchaseCanceled={purchaseCancleHandler}\n                purchaseContinued={purchaseContinueHandler}\n                price={props.price.toFixed(2)}\n            ></OrderSummary>\n        );\n    }\n\n    return (\n        <Aux>\n            {/* <Modal show={purchasing} modalClosed={purchaseCancleHandler}>\n                {orderSummary}\n            </Modal> */}\n            {burger}\n        </Aux>\n    );\n};\n\nconst mapToStateProps = (state) => {\n    return {\n        ings: state.burgerBuilder.ingredients,\n        price: state.burgerBuilder.totalPrice,\n        error: state.burgerBuilder.error,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onIngredientAdded: (ingName) =>\n            dispatch(actions.addIngredient(ingName)),\n        onIngredientRemoved: (ingName) =>\n            dispatch(actions.removeIngredient(ingName)),\n        onInitIngredients: () => dispatch(actions.initIngredients()),\n        onInitPurchase: () => dispatch(actions.purchaseInit()),\n    };\n};\n\nexport default connect(mapToStateProps, mapDispatchToProps)(burgerBuilder);\n"]},"metadata":{},"sourceType":"module"}